apiVersion: helm.fluxcd.io/v1
kind: HelmRelease
metadata:
  name: jenkins
  namespace: jenkins
spec:
  releaseName: jenkins
  chart:
    repository: https://charts.jenkins.io
    name: jenkins
    version: 3.8.0
  values:
    controller:
      installPlugins:
        - "kubernetes:1.31.0"
        - "git:4.7.0"
        - "workflow-aggregator:2.6"
        - "docker-workflow:1.26"
      service:
        type: LoadBalancer
      ingress:
        enabled: true
        path: /
        hosts:
          - "jenkins.samakia.lab"
        tls:
          - secretName: jenkins-tls
            hosts:
              - "jenkins.samakia.lab"
