# MinIO Configuration
mode: standalone  # or distributed for production
replicas: 1

image:
  repository: minio/minio
  tag: RELEASE.2023-10-25T06-33-25Z
  pullPolicy: IfNotPresent

resources:
  requests:
    cpu: "500m"
    memory: "2Gi"
  limits:
    cpu: "2"
    memory: "4Gi"

persistence:
  enabled: true
  size: 20Gi
  storageClass: ""
  accessMode: ReadWriteOnce

securityContext:
  runAsUser: 1000
  runAsGroup: 1000
  fsGroup: 1000
  runAsNonRoot: true

ingress:
  enabled: true
  host: "minio.samakia.lab"
  annotations:
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
  tls:
    - hosts:
      - "minio.samakia.lab"
      secretName: "minio-tls"

service:
  type: ClusterIP
  port: 9000

consoleIngress:
  enabled: true
  host: "minio-console.samakia.lab"
  annotations:
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
  tls:
    - hosts:
      - "minio-console.samakia.lab"
      secretName: "minio-console-tls"

rootUser: "minioadmin"
rootPassword: "minioadmin"

users:
  - accessKey: "samakia"
    secretKey: "samakiasamakia"
    policy: consoleAdmin

buckets:
  - name: "jenkins-backups"
    policy: none
    purge: false